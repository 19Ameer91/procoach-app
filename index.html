<!DOCTYPE html>
<html lang="ar" dir="rtl" data-theme="light" style=""><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pro Coach - Ø¥Ø¯Ø§Ø±Ø© ÙØ±Ù‚ ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…</title>
    <link rel="manifest" href="/procoach-app/manifest.json">

    <!-- Google Fonts - Cairo only -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">

    <!-- Firebase SDK v9 -->
    <script src="https://apis.google.com/_/scs/abc-static/_/js/k=gapi.lb.ar.vaNm72r-Onw.O/m=gapi_iframes/rt=j/sv=1/d=1/ed=1/rs=AHpOoo-LEpL90RBIfQRSLdW9DeSGA_DOhg/cb=gapi.loaded_0?le=scs" async=""></script><script type="module">
      import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js';
      import {
        getAuth,
        signInWithEmailAndPassword,
        createUserWithEmailAndPassword,
        onAuthStateChanged,
        signOut,
      } from 'https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js';
      import {
        getDatabase,
        ref,
        set,
        get,
        push,
        remove,
        update,
        onValue,
      } from 'https://www.gstatic.com/firebasejs/10.7.0/firebase-database.js';

      const firebaseConfig = {
        apiKey: 'AIzaSyD5RA1lebNnSUB9vw1iYir5PYEPRxqKqtM',
        authDomain: 'procoach-8029d.firebaseapp.com',
        databaseURL: 'https://procoach-8029d-default-rtdb.europe-west1.firebasedatabase.app',
        projectId: 'procoach-8029d',
        storageBucket: 'procoach-8029d.appspot.com',
        messagingSenderId: '123456789',
        appId: '1:123456789:web:abcdef123456',
      };

      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);
      const database = getDatabase(app);

      window.auth = auth;
      window.database = database;
      window.firebaseAuth = { signInWithEmailAndPassword, createUserWithEmailAndPassword, onAuthStateChanged, signOut };
      window.firebaseDB = { ref, set, get, push, remove, update, onValue };
    </script>

    <!-- EmailJS -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script>
      emailjs.init('RRyD0MlzLbVcTaPv');
      window.emailjsConfig = {
        SERVICE_ID: 'service_fmdf5kl',
        TEMPLATE_ID: 'template_f83ay3c',
      };
    </script>

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Cairo', sans-serif;
        background: linear-gradient(135deg, #1e40af 0%, #059669 100%);
        min-height: 100vh;
        color: #333;
        overflow-x: hidden;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      .header {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-radius: 15px;
        padding: 20px;
        margin-bottom: 20px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        text-align: center;
      }

      .logo {
        font-size: 2.5rem;
        font-weight: 700;
        background: linear-gradient(45deg, #1e40af, #059669);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 10px;
      }

      .subtitle {
        color: #666;
        font-size: 1.1rem;
      }

      .main-content {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        min-height: 500px;
      }

      .nav-tabs {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-bottom: 30px;
        border-bottom: 2px solid #f0f0f0;
        padding-bottom: 15px;
      }

      .nav-tab {
        background: linear-gradient(45deg, #f8f9fa, #e9ecef);
        border: none;
        border-radius: 10px;
        padding: 12px 20px;
        cursor: pointer;
        font-family: 'Cairo', sans-serif;
        font-weight: 500;
        color: #666;
        transition: all 0.3s ease;
        flex: 1;
        min-width: 120px;
      }

      .nav-tab.active {
        background: linear-gradient(45deg, #1e40af, #059669);
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(30, 64, 175, 0.3);
      }

      .tab-content {
        display: none;
      }

      .tab-content.active {
        display: block;
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: #333;
      }

      .form-input,
      .form-select,
      .form-textarea {
        width: 100%;
        padding: 12px 15px;
        border: 2px solid #e1e5e9;
        border-radius: 10px;
        font-family: 'Cairo', sans-serif;
        font-size: 1rem;
        transition: all 0.3s ease;
        background: #fff;
      }

      .form-input:focus,
      .form-select:focus,
      .form-textarea:focus {
        outline: none;
        border-color: #059669;
        box-shadow: 0 0 0 3px rgba(5, 150, 105, 0.1);
      }

      .btn {
        background: linear-gradient(45deg, #1e40af, #059669);
        color: white;
        border: none;
        border-radius: 10px;
        padding: 12px 25px;
        font-family: 'Cairo', sans-serif;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 1rem;
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(30, 64, 175, 0.3);
      }

      .btn-secondary {
        background: linear-gradient(45deg, #6b7280, #4b5563);
      }

      .btn-danger {
        background: linear-gradient(45deg, #dc2626, #b91c1c);
      }

      .card {
        background: #f8f9fa;
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 15px;
        border: 2px solid #e9ecef;
        transition: all 0.3s ease;
      }

      .card:hover {
        border-color: #059669;
        box-shadow: 0 5px 15px rgba(5, 150, 105, 0.1);
      }

      .player-card {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);
        border: 2px solid #e9ecef;
        border-radius: 12px;
        padding: 15px;
        margin-bottom: 10px;
        transition: all 0.3s ease;
      }

      .player-card:hover {
        border-color: #059669;
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(5, 150, 105, 0.1);
      }

      .player-info {
        flex: 1;
      }

      .player-name {
        font-weight: 600;
        font-size: 1.1rem;
        color: #1e40af;
        margin-bottom: 5px;
      }

      .player-details {
        color: #666;
        font-size: 0.9rem;
      }

      .player-actions {
        display: flex;
        gap: 8px;
      }

      .btn-small {
        padding: 6px 12px;
        font-size: 0.8rem;
        min-width: 60px;
      }

      .league-code {
        background: linear-gradient(45deg, #1e40af, #059669);
        color: white;
        padding: 15px;
        border-radius: 10px;
        text-align: center;
        font-size: 1.5rem;
        font-weight: 700;
        letter-spacing: 3px;
        margin: 20px 0;
        box-shadow: 0 5px 15px rgba(30, 64, 175, 0.3);
      }

      .tactical-canvas {
        width: 100%;
        max-width: 600px;
        height: 400px;
        border: 3px solid #059669;
        border-radius: 15px;
        background: linear-gradient(to bottom, #22c55e 0%, #16a34a 100%);
        cursor: crosshair;
        position: relative;
        overflow: hidden;
      }

      .canvas-tools {
        display: flex;
        gap: 10px;
        margin-bottom: 15px;
        flex-wrap: wrap;
      }

      .tool-btn {
        padding: 8px 15px;
        border: 2px solid #059669;
        background: white;
        color: #059669;
        border-radius: 8px;
        cursor: pointer;
        font-family: 'Cairo', sans-serif;
        font-weight: 500;
        transition: all 0.3s ease;
      }

      .tool-btn.active {
        background: #059669;
        color: white;
      }

      .tournament-bracket {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 30px;
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        border-radius: 15px;
        margin: 20px 0;
      }

      .trophy-icon {
        font-size: 4rem;
        color: #fbbf24;
        margin-bottom: 20px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
      }

      .bracket-round {
        display: flex;
        justify-content: space-around;
        width: 100%;
        margin: 15px 0;
        flex-wrap: wrap;
      }

      .bracket-team {
        background: white;
        border: 2px solid #059669;
        border-radius: 8px;
        padding: 10px 15px;
        margin: 5px;
        font-weight: 600;
        color: #1e40af;
        flex: 1;
        text-align: center;
        min-width: 120px;
      }

      .match-result {
        background: linear-gradient(45deg, #f3f4f6, #e5e7eb);
        border-radius: 10px;
        padding: 15px;
        margin: 10px 0;
        border: 2px solid #d1d5db;
      }

      .match-teams {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
      }

      .team-score {
        font-weight: 700;
        font-size: 1.2rem;
        color: #1e40af;
      }

      .vs-text {
        color: #666;
        font-weight: 600;
      }

      .supervisor-codes {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin: 20px 0;
      }

      .supervisor-card {
        background: linear-gradient(135deg, #ddd6fe 0%, #c4b5fd 100%);
        border-radius: 12px;
        padding: 15px;
        text-align: center;
        border: 2px solid #a78bfa;
      }

      .supervisor-title {
        font-weight: 600;
        color: #5b21b6;
        margin-bottom: 8px;
      }

      .supervisor-code {
        background: white;
        border-radius: 8px;
        padding: 10px;
        font-weight: 700;
        color: #1e40af;
        letter-spacing: 2px;
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin: 20px 0;
      }

      .stat-card {
        background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
        border-radius: 12px;
        padding: 20px;
        text-align: center;
        border: 2px solid #f59e0b;
      }

      .stat-value {
        font-size: 2rem;
        font-weight: 700;
        color: #92400e;
        margin-bottom: 5px;
      }

      .stat-label {
        color: #a16207;
        font-weight: 600;
      }

      .error-message {
        background: linear-gradient(45deg, #fecaca, #f87171);
        color: #7f1d1d;
        padding: 12px 15px;
        border-radius: 8px;
        margin: 10px 0;
        border: 2px solid #ef4444;
        font-weight: 500;
      }

      .success-message {
        background: linear-gradient(45deg, #bbf7d0, #86efac);
        color: #14532d;
        padding: 12px 15px;
        border-radius: 8px;
        margin: 10px 0;
        border: 2px solid #22c55e;
        font-weight: 500;
      }

      .loading {
        text-align: center;
        padding: 40px;
        color: #666;
      }

      .hidden {
        display: none !important;
      }

      @media (max-width: 768px) {
        .container {
          padding: 10px;
        }

        .nav-tabs {
          flex-direction: column;
        }

        .nav-tab {
          text-align: center;
        }

        .player-card {
          flex-direction: column;
          text-align: center;
        }

        .player-actions {
          margin-top: 10px;
          justify-content: center;
        }

        .match-teams {
          flex-direction: column;
          gap: 10px;
        }

        .tactical-canvas {
          height: 300px;
        }

        .bracket-round {
          flex-direction: column;
          align-items: center;
        }
      }
    </style>
  <script src="https://apis.google.com/js/api.js?onload=__iframefcb825721" type="text/javascript" charset="UTF-8" gapi_processed="true"></script></head>
  <body style="">
    <div class="container">
      <!-- Header -->
      <div class="header">
        <div class="logo">âš½ Pro Coach</div>
        <div class="subtitle">ØªØ·Ø¨ÙŠÙ‚ Ø§Ø­ØªØ±Ø§ÙÙŠ Ù„Ø¥Ø¯Ø§Ø±Ø© ÙØ±Ù‚ ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…</div>
        <div id="userInfo" class="hidden" style="margin-top: 15px">
          <span id="userEmail"></span>
          <button class="btn btn-secondary btn-small" onclick="logout()" style="margin-right: 10px">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
        </div>
      </div>

      <!-- Authentication Forms -->
      <div id="authSection" class="main-content">
        <div class="nav-tabs">
          <button class="nav-tab active" onclick="showAuthTab('login')">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
          <button class="nav-tab" onclick="showAuthTab('register')">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
        </div>

        <!-- Login Form -->
        <div id="loginForm" class="tab-content active">
          <h2 style="margin-bottom: 20px; color: #1e40af">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
          <div class="form-group">
            <label class="form-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
            <input type="email" id="loginEmail" class="form-input" required="">
          </div>
          <div class="form-group">
            <label class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
            <input type="password" id="loginPassword" class="form-input" required="">
          </div>
          <button class="btn" onclick="login()">Ø¯Ø®ÙˆÙ„</button>
          <div id="loginError"></div>
        </div>

        <!-- Register Form -->
        <div id="registerForm" class="tab-content">
          <h2 style="margin-bottom: 20px; color: #1e40af">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h2>
          <div class="form-group">
            <label class="form-label">Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚</label>
            <input type="text" id="teamName" class="form-input" required="">
          </div>
          <div class="form-group">
            <label class="form-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
            <input type="email" id="registerEmail" class="form-input" required="">
          </div>
          <div class="form-group">
            <label class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
            <input type="password" id="registerPassword" class="form-input" required="">
          </div>
          <button class="btn" onclick="register()">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
          <div id="registerError"></div>
        </div>
      </div>

      <!-- Main Application -->
      <div id="appSection" class="main-content hidden">
        <div class="nav-tabs">
          <button class="nav-tab active" onclick="showTab('team')">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ±ÙŠÙ‚</button>
          <button class="nav-tab" onclick="showTab('league')">Ø§Ù„Ø¯ÙˆØ±ÙŠØ§Øª</button>
          <button class="nav-tab" onclick="showTab('tournament')">Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚Ø±Ø¹Ø©</button>
          <button class="nav-tab" onclick="showTab('loan')">Ø³ÙˆÙ‚ Ø§Ù„Ø¥Ø¹Ø§Ø±Ø§Øª</button>
          <button class="nav-tab" onclick="showTab('tactical')">Ø§Ù„Ù…Ù„Ø¹Ø¨ Ø§Ù„ØªÙƒØªÙŠÙƒÙŠ</button>
        </div>

        <!-- Team Management Tab -->
        <div id="teamTab" class="tab-content active">
          <h2 style="margin-bottom: 20px; color: #1e40af">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ±ÙŠÙ‚</h2>

          <!-- Add Player Form -->
          <div class="card">
            <h3 style="margin-bottom: 15px; color: #059669">Ø¥Ø¶Ø§ÙØ© Ù„Ø§Ø¹Ø¨ Ø¬Ø¯ÙŠØ¯</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px">
              <div class="form-group">
                <label class="form-label">Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©</label>
                <input type="text" id="playerId" class="form-input">
              </div>
              <div class="form-group">
                <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨</label>
                <input type="text" id="playerName" class="form-input">
              </div>
              <div class="form-group">
                <label class="form-label">Ø§Ù„Ù…Ø±ÙƒØ²</label>
                <select id="playerPosition" class="form-select">
                  <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø±ÙƒØ²</option>
                  <option value="Ø­Ø§Ø±Ø³ Ù…Ø±Ù…Ù‰">Ø­Ø§Ø±Ø³ Ù…Ø±Ù…Ù‰</option>
                  <option value="Ù…Ø¯Ø§ÙØ¹">Ù…Ø¯Ø§ÙØ¹</option>
                  <option value="Ù„Ø§Ø¹Ø¨ ÙˆØ³Ø·">Ù„Ø§Ø¹Ø¨ ÙˆØ³Ø·</option>
                  <option value="Ù…Ù‡Ø§Ø¬Ù…">Ù…Ù‡Ø§Ø¬Ù…</option>
                </select>
              </div>
              <div class="form-group">
                <label class="form-label">Ø±Ù‚Ù… Ø§Ù„Ù‚Ù…ÙŠØµ</label>
                <input type="number" id="shirtNumber" class="form-input" min="1" max="99">
              </div>
            </div>
            <div style="margin-top: 15px">
              <label class="form-label">
                <input type="checkbox" id="isStarter" style="margin-left: 8px">
                Ù„Ø§Ø¹Ø¨ Ø£Ø³Ø§Ø³ÙŠ
              </label>
            </div>
            <button class="btn" onclick="addPlayer()" style="margin-top: 15px">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù„Ø§Ø¹Ø¨</button>
          </div>

          <!-- Players List -->
          <div id="playersContainer">
            <h3 style="margin-bottom: 15px; color: #059669">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†</h3>
            <div id="playersList"></div>
          </div>
        </div>

        <!-- League Tab -->
        <div id="leagueTab" class="tab-content">
          <h2 style="margin-bottom: 20px; color: #1e40af">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¯ÙˆØ±ÙŠØ§Øª</h2>

          <!-- Create League -->
          <div class="card">
            <h3 style="margin-bottom: 15px; color: #059669">Ø¥Ù†Ø´Ø§Ø¡ Ø¯ÙˆØ±ÙŠ Ø¬Ø¯ÙŠØ¯</h3>
            <div class="form-group">
              <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ±ÙŠ</label>
              <input type="text" id="leagueName" class="form-input">
            </div>
            <button class="btn" onclick="createLeague()">Ø¥Ù†Ø´Ø§Ø¡ Ø¯ÙˆØ±ÙŠ</button>
          </div>

          <!-- Join League -->
          <div class="card">
            <h3 style="margin-bottom: 15px; color: #059669">Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ù„Ø¯ÙˆØ±ÙŠ</h3>
            <div class="form-group">
              <label class="form-label">ÙƒÙˆØ¯ Ø§Ù„Ø¯ÙˆØ±ÙŠ</label>
              <input type="text" id="joinLeagueCode" class="form-input" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„Ø¯ÙˆØ±ÙŠ (6 Ø£Ø­Ø±Ù)">
            </div>
            <button class="btn" onclick="joinLeague()">Ø§Ù†Ø¶Ù…Ø§Ù…</button>
          </div>

          <!-- My Leagues -->
          <div id="myLeagues">
            <h3 style="margin-bottom: 15px; color: #059669">Ø¯ÙˆØ±ÙŠØ§ØªÙŠ</h3>
            <div id="leaguesList"></div>
          </div>
        </div>

        <!-- Tournament/Draw System Tab -->
        <div id="tournamentTab" class="tab-content">
          <h2 style="margin-bottom: 20px; color: #1e40af">Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚Ø±Ø¹Ø© ÙˆØ§Ù„Ø¨Ø·ÙˆÙ„Ø©</h2>

          <!-- Tournament Setup -->
          <div class="card">
            <h3 style="margin-bottom: 15px; color: #059669">Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¨Ø·ÙˆÙ„Ø©</h3>
            <div class="form-group">
              <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ø¨Ø·ÙˆÙ„Ø©</label>
              <input type="text" id="tournamentName" class="form-input">
            </div>
            <div class="form-group">
              <label class="form-label">Ù†ÙˆØ¹ Ø§Ù„Ø¨Ø·ÙˆÙ„Ø©</label>
              <select id="tournamentType" class="form-select">
                <option value="knockout">Ø®Ø±ÙˆØ¬ Ø§Ù„Ù…ØºÙ„ÙˆØ¨</option>
                <option value="league">Ø¯ÙˆØ±ÙŠ</option>
                <option value="groups">Ù…Ø¬Ù…ÙˆØ¹Ø§Øª</option>
              </select>
            </div>
            <button class="btn" onclick="createTournament()">Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø·ÙˆÙ„Ø©</button>
          </div>

          <!-- Supervisor Management -->
          <div class="card">
            <h3 style="margin-bottom: 15px; color: #059669">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†</h3>
            <p style="margin-bottom: 15px; color: #666">ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹ÙŠÙŠÙ† Ø­ØªÙ‰ 4 Ù…Ø´Ø±ÙÙŠÙ† Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙŠ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨Ø·ÙˆÙ„Ø©</p>
            <button class="btn" onclick="generateSupervisorCodes()">ØªÙˆÙ„ÙŠØ¯ Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†</button>

            <div id="supervisorCodes" class="supervisor-codes hidden">
              <div class="supervisor-card">
                <div class="supervisor-title">Ø§Ù„Ù…Ø´Ø±Ù Ø§Ù„Ø£ÙˆÙ„</div>
                <div class="supervisor-code" id="supervisor1Code">------</div>
              </div>
              <div class="supervisor-card">
                <div class="supervisor-title">Ø§Ù„Ù…Ø´Ø±Ù Ø§Ù„Ø«Ø§Ù†ÙŠ</div>
                <div class="supervisor-code" id="supervisor2Code">------</div>
              </div>
              <div class="supervisor-card">
                <div class="supervisor-title">Ø§Ù„Ù…Ø´Ø±Ù Ø§Ù„Ø«Ø§Ù„Ø«</div>
                <div class="supervisor-code" id="supervisor3Code">------</div>
              </div>
              <div class="supervisor-card">
                <div class="supervisor-title">Ø§Ù„Ù…Ø´Ø±Ù Ø§Ù„Ø±Ø§Ø¨Ø¹</div>
                <div class="supervisor-code" id="supervisor4Code">------</div>
              </div>
            </div>
          </div>

          <!-- Match Scheduling -->
          <div class="card">
            <h3 style="margin-bottom: 15px; color: #059669">Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px">
              <div class="form-group">
                <label class="form-label">ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø©</label>
                <input type="date" id="matchDate" class="form-input">
              </div>
              <div class="form-group">
                <label class="form-label">ÙˆÙ‚Øª Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø©</label>
                <input type="time" id="matchTime" class="form-input">
              </div>
              <div class="form-group">
                <label class="form-label">Ø§Ù„Ù…Ù„Ø¹Ø¨</label>
                <input type="text" id="matchVenue" class="form-input">
              </div>
            </div>
            <button class="btn" onclick="scheduleMatch()">Ø¬Ø¯ÙˆÙ„Ø© Ù…Ø¨Ø§Ø±Ø§Ø©</button>
          </div>

          <!-- Tournament Bracket -->
          <div class="tournament-bracket">
            <div class="trophy-icon">ğŸ†</div>
            <h3 style="color: #1e40af; margin-bottom: 20px">Ù…Ø®Ø·Ø· Ø§Ù„Ø¨Ø·ÙˆÙ„Ø©</h3>
            <div id="bracketContainer">
              <div class="bracket-round">
                <div class="bracket-team">Ø§Ù„ÙØ±ÙŠÙ‚ 1</div>
                <div class="bracket-team">Ø§Ù„ÙØ±ÙŠÙ‚ 2</div>
                <div class="bracket-team">Ø§Ù„ÙØ±ÙŠÙ‚ 3</div>
                <div class="bracket-team">Ø§Ù„ÙØ±ÙŠÙ‚ 4</div>
              </div>
              <div class="bracket-round">
                <div class="bracket-team">Ù†ØµÙ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ 1</div>
                <div class="bracket-team">Ù†ØµÙ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ 2</div>
              </div>
              <div class="bracket-round">
                <div class="bracket-team">Ø§Ù„Ø¨Ø·Ù„</div>
              </div>
            </div>
          </div>

          <!-- Match Results -->
          <div class="card">
            <h3 style="margin-bottom: 15px; color: #059669">Ø¥Ø¯Ø®Ø§Ù„ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª</h3>
            <div id="matchResults">
              <div class="match-result">
                <div class="match-teams">
                  <span class="team-score">Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£ÙˆÙ„ 2</span>
                  <span class="vs-text">VS</span>
                  <span class="team-score">1 Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø«Ø§Ù†ÙŠ</span>
                </div>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px">
                  <div>
                    <label class="form-label">Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„ØµÙØ±Ø§Ø¡</label>
                    <input type="number" class="form-input" min="0">
                  </div>
                  <div>
                    <label class="form-label">Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø­Ù…Ø±Ø§Ø¡</label>
                    <input type="number" class="form-input" min="0">
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Tournament Statistics -->
          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-value">8</div>
              <div class="stat-label">Ø¹Ø¯Ø¯ Ø§Ù„ÙØ±Ù‚</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">12</div>
              <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">36</div>
              <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù</div>
            </div>
            <div class="stat-card">
              <div class="stat-value">4</div>
              <div class="stat-label">Ø§Ù„Ù…Ø´Ø±ÙÙˆÙ† Ø§Ù„Ù†Ø´Ø·ÙˆÙ†</div>
            </div>
          </div>
        </div>

        <!-- Loan Market Tab -->
        <div id="loanTab" class="tab-content">
          <h2 style="margin-bottom: 20px; color: #1e40af">Ø³ÙˆÙ‚ Ø§Ù„Ø¥Ø¹Ø§Ø±Ø§Øª</h2>

          <!-- List Player for Loan -->
          <div class="card">
            <h3 style="margin-bottom: 15px; color: #059669">Ø¹Ø±Ø¶ Ù„Ø§Ø¹Ø¨ Ù„Ù„Ø¥Ø¹Ø§Ø±Ø©</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px">
              <div class="form-group">
                <label class="form-label">Ø§Ø®ØªØ± Ø§Ù„Ù„Ø§Ø¹Ø¨</label>
                <select id="loanPlayerSelect" class="form-select">
                  <option value="">Ø§Ø®ØªØ± Ù„Ø§Ø¹Ø¨</option>
                </select>
              </div>
              <div class="form-group">
                <label class="form-label">Ù…Ø¯Ø© Ø§Ù„Ø¥Ø¹Ø§Ø±Ø© (Ø£Ø´Ù‡Ø±)</label>
                <input type="number" id="loanDuration" class="form-input" min="1" max="12">
              </div>
              <div class="form-group">
                <label class="form-label">Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù…Ø·Ù„ÙˆØ¨</label>
                <input type="number" id="loanPrice" class="form-input" min="0">
              </div>
            </div>
            <div class="form-group">
              <label class="form-label">Ø´Ø±ÙˆØ· Ø§Ù„Ø¥Ø¹Ø§Ø±Ø©</label>
              <textarea id="loanConditions" class="form-textarea" rows="3"></textarea>
            </div>
            <button class="btn" onclick="listPlayerForLoan()">Ø¹Ø±Ø¶ Ù„Ù„Ø¥Ø¹Ø§Ø±Ø©</button>
          </div>

          <!-- Available Players -->
          <div id="availableLoans">
            <h3 style="margin-bottom: 15px; color: #059669">Ø§Ù„Ù„Ø§Ø¹Ø¨ÙˆÙ† Ø§Ù„Ù…ØªØ§Ø­ÙˆÙ† Ù„Ù„Ø¥Ø¹Ø§Ø±Ø©</h3>
            <div id="loanMarket"></div>
          </div>

          <!-- My Loan Offers -->
          <div id="myLoanOffers">
            <h3 style="margin-bottom: 15px; color: #059669">Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø¥Ø¹Ø§Ø±Ø© Ø§Ù„Ù…Ø±Ø³Ù„Ø©</h3>
            <div id="sentOffers"></div>
          </div>

          <!-- Received Offers -->
          <div id="receivedLoanOffers">
            <h3 style="margin-bottom: 15px; color: #059669">Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…Ø³ØªÙ„Ù…Ø©</h3>
            <div id="receivedOffers"></div>
          </div>
        </div>

        <!-- Tactical Canvas Tab -->
        <div id="tacticalTab" class="tab-content">
          <h2 style="margin-bottom: 20px; color: #1e40af">Ø§Ù„Ù…Ù„Ø¹Ø¨ Ø§Ù„ØªÙƒØªÙŠÙƒÙŠ</h2>

          <!-- Canvas Tools -->
          <div class="canvas-tools">
            <button class="tool-btn active" onclick="selectTool('pen')">Ù‚Ù„Ù…</button>
            <button class="tool-btn" onclick="selectTool('eraser')">Ù…Ù…Ø­Ø§Ø©</button>
            <button class="tool-btn" onclick="selectTool('circle')">Ø¯Ø§Ø¦Ø±Ø©</button>
            <button class="tool-btn" onclick="selectTool('arrow')">Ø³Ù‡Ù…</button>
            <button class="tool-btn" onclick="clearCanvas()">Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„</button>
            <button class="tool-btn" onclick="saveFormation()">Ø­ÙØ¸ Ø§Ù„ØªØ´ÙƒÙŠÙ„Ø©</button>
          </div>

          <!-- Canvas -->
          <canvas id="tacticalCanvas" class="tactical-canvas"></canvas>

          <!-- Saved Formations -->
          <div id="savedFormations" style="margin-top: 20px">
            <h3 style="margin-bottom: 15px; color: #059669">Ø§Ù„ØªØ´ÙƒÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©</h3>
            <div id="formationsList"></div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Global Variables
      let currentUser = null;
      let currentTeam = null;
      let currentTool = 'pen';
      let isDrawing = false;
      let canvas, ctx;

      // Initialize App
      window.onload = function () {
        initializeCanvas();
        checkAuthState();
      };

      // Authentication Functions
      function checkAuthState() {
        window.firebaseAuth.onAuthStateChanged(window.auth, (user) => {
          if (user) {
            currentUser = user;
            showApp();
            loadUserData();
          } else {
            showAuth();
          }
        });
      }

      function login() {
        const email = document.getElementById('loginEmail').value;
        const password = document.getElementById('loginPassword').value;

        if (!email || !password) {
          showError('loginError', 'ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
          return;
        }

        window.firebaseAuth
          .signInWithEmailAndPassword(window.auth, email, password)
          .then((userCredential) => {
            currentUser = userCredential.user;
            showApp();
            loadUserData();
          })
          .catch((error) => {
            showError('loginError', 'Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„: ' + error.message);
          });
      }

      function register() {
        const teamName = document.getElementById('teamName').value;
        const email = document.getElementById('registerEmail').value;
        const password = document.getElementById('registerPassword').value;

        if (!teamName || !email || !password) {
          showError('registerError', 'ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
          return;
        }

        window.firebaseAuth
          .createUserWithEmailAndPassword(window.auth, email, password)
          .then((userCredential) => {
            currentUser = userCredential.user;

            // Save team data
            const teamData = {
              name: teamName,
              email: email,
              createdAt: Date.now(),
              players: {},
            };

            window.firebaseDB
              .set(window.firebaseDB.ref(window.database, 'teams/' + currentUser.uid), teamData)
              .then(() => {
                showApp();
                loadUserData();
              });
          })
          .catch((error) => {
            showError('registerError', 'Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨: ' + error.message);
          });
      }

      function logout() {
        window.firebaseAuth.signOut(window.auth);
      }

      // UI Functions
      function showAuth() {
        document.getElementById('authSection').classList.remove('hidden');
        document.getElementById('appSection').classList.add('hidden');
        document.getElementById('userInfo').classList.add('hidden');
      }

      function showApp() {
        document.getElementById('authSection').classList.add('hidden');
        document.getElementById('appSection').classList.remove('hidden');
        document.getElementById('userInfo').classList.remove('hidden');
        document.getElementById('userEmail').textContent = currentUser.email;
      }

      function showAuthTab(tab) {
        document.querySelectorAll('#authSection .nav-tab').forEach((t) => t.classList.remove('active'));
        document.querySelectorAll('#authSection .tab-content').forEach((t) => t.classList.remove('active'));

        event.target.classList.add('active');
        document.getElementById(tab + 'Form').classList.add('active');
      }

      function showTab(tab) {
        document.querySelectorAll('#appSection .nav-tab').forEach((t) => t.classList.remove('active'));
        document.querySelectorAll('#appSection .tab-content').forEach((t) => t.classList.remove('active'));

        event.target.classList.add('active');
        document.getElementById(tab + 'Tab').classList.add('active');

        if (tab === 'tactical') {
          setTimeout(() => {
            initializeCanvas();
          }, 100);
        }
      }

      function showError(elementId, message) {
        const errorDiv = document.getElementById(elementId);
        errorDiv.innerHTML = '<div class="error-message">' + message + '</div>';
        setTimeout(() => {
          errorDiv.innerHTML = '';
        }, 5000);
      }

      function showSuccess(elementId, message) {
        const successDiv = document.getElementById(elementId);
        successDiv.innerHTML = '<div class="success-message">' + message + '</div>';
        setTimeout(() => {
          successDiv.innerHTML = '';
        }, 3000);
      }

      // Team Management Functions
      function loadUserData() {
        window.firebaseDB.get(window.firebaseDB.ref(window.database, 'teams/' + currentUser.uid)).then((snapshot) => {
          if (snapshot.exists()) {
            currentTeam = snapshot.val();
            displayPlayers();
            loadLeagues();
            loadLoanMarket();
          }
        });
      }

      function addPlayer() {
        const playerId = document.getElementById('playerId').value;
        const playerName = document.getElementById('playerName').value;
        const playerPosition = document.getElementById('playerPosition').value;
        const shirtNumber = document.getElementById('shirtNumber').value;
        const isStarter = document.getElementById('isStarter').checked;

        if (!playerId || !playerName || !playerPosition || !shirtNumber) {
          showError('teamTab', 'ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');
          return;
        }

        const playerData = {
          id: playerId,
          name: playerName,
          position: playerPosition,
          shirtNumber: parseInt(shirtNumber),
          isStarter: isStarter,
          addedAt: Date.now(),
        };

        const playerRef = window.firebaseDB.ref(window.database, 'teams/' + currentUser.uid + '/players/' + playerId);
        window.firebaseDB
          .set(playerRef, playerData)
          .then(() => {
            showSuccess('teamTab', 'ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø¨Ù†Ø¬Ø§Ø­');
            clearPlayerForm();
            loadUserData();
          })
          .catch((error) => {
            showError('teamTab', 'Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù„Ø§Ø¹Ø¨: ' + error.message);
          });
      }

      function clearPlayerForm() {
        document.getElementById('playerId').value = '';
        document.getElementById('playerName').value = '';
        document.getElementById('playerPosition').value = '';
        document.getElementById('shirtNumber').value = '';
        document.getElementById('isStarter').checked = false;
      }

      function displayPlayers() {
        const playersList = document.getElementById('playersList');
        playersList.innerHTML = '';

        if (!currentTeam || !currentTeam.players) {
          playersList.innerHTML =
            '<p style="text-align: center; color: #666; padding: 20px;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù„Ø§Ø¹Ø¨ÙŠÙ† Ù…Ø¶Ø§ÙÙŠÙ† Ø¨Ø¹Ø¯</p>';
          return;
        }

        Object.keys(currentTeam.players).forEach((playerId) => {
          const player = currentTeam.players[playerId];
          const playerCard = document.createElement('div');
          playerCard.className = 'player-card';
          playerCard.innerHTML = `
                    <div class="player-info">
                        <div class="player-name">${player.name}</div>
                        <div class="player-details">
                            ${player.position} | Ø±Ù‚Ù… ${player.shirtNumber} | ${player.isStarter ? 'Ø£Ø³Ø§Ø³ÙŠ' : 'Ø§Ø­ØªÙŠØ§Ø·ÙŠ'}
                        </div>
                    </div>
                    <div class="player-actions">
                        <button class="btn btn-small btn-secondary" onclick="editPlayer('${playerId}')">ØªØ¹Ø¯ÙŠÙ„</button>
                        <button class="btn btn-small btn-danger" onclick="deletePlayer('${playerId}')">Ø­Ø°Ù</button>
                    </div>
                `;
          playersList.appendChild(playerCard);
        });
      }

      function deletePlayer(playerId) {
        if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù„Ø§Ø¹Ø¨ØŸ')) {
          const playerRef = window.firebaseDB.ref(window.database, 'teams/' + currentUser.uid + '/players/' + playerId);
          window.firebaseDB
            .remove(playerRef)
            .then(() => {
              showSuccess('teamTab', 'ØªÙ… Ø­Ø°Ù Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø¨Ù†Ø¬Ø§Ø­');
              loadUserData();
            })
            .catch((error) => {
              showError('teamTab', 'Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù„Ø§Ø¹Ø¨: ' + error.message);
            });
        }
      }

      // League Functions
      function createLeague() {
        const leagueName = document.getElementById('leagueName').value;

        if (!leagueName) {
          showError('leagueTab', 'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ±ÙŠ');
          return;
        }

        const leagueCode = generateLeagueCode();
        const leagueData = {
          name: leagueName,
          code: leagueCode,
          creator: currentUser.uid,
          createdAt: Date.now(),
          teams: {
            [currentUser.uid]: {
              name: currentTeam.name,
              email: currentTeam.email,
              joinedAt: Date.now(),
            },
          },
          supervisors: {},
        };

        window.firebaseDB
          .set(window.firebaseDB.ref(window.database, 'leagues/' + leagueCode), leagueData)
          .then(() => {
            showSuccess('leagueTab', 'ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø¨Ù†Ø¬Ø§Ø­! ÙƒÙˆØ¯ Ø§Ù„Ø¯ÙˆØ±ÙŠ: ' + leagueCode);
            document.getElementById('leagueName').value = '';
            loadLeagues();
          })
          .catch((error) => {
            showError('leagueTab', 'Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¯ÙˆØ±ÙŠ: ' + error.message);
          });
      }

      function joinLeague() {
        const leagueCode = document.getElementById('joinLeagueCode').value.toUpperCase();

        if (!leagueCode || leagueCode.length !== 6) {
          showError('leagueTab', 'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙˆØ¯ Ø¯ÙˆØ±ÙŠ ØµØ­ÙŠØ­ (6 Ø£Ø­Ø±Ù)');
          return;
        }

        window.firebaseDB
          .get(window.firebaseDB.ref(window.database, 'leagues/' + leagueCode))
          .then((snapshot) => {
            if (snapshot.exists()) {
              const league = snapshot.val();
              if (league.teams && league.teams[currentUser.uid]) {
                showError('leagueTab', 'Ø£Ù†Øª Ù…Ù†Ø¶Ù… Ù„Ù‡Ø°Ø§ Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø¨Ø§Ù„ÙØ¹Ù„');
                return;
              }

              const teamData = {
                name: currentTeam.name,
                email: currentTeam.email,
                joinedAt: Date.now(),
              };

              window.firebaseDB
                .set(
                  window.firebaseDB.ref(window.database, 'leagues/' + leagueCode + '/teams/' + currentUser.uid),
                  teamData,
                )
                .then(() => {
                  showSuccess('leagueTab', 'ØªÙ… Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ù„Ù„Ø¯ÙˆØ±ÙŠ Ø¨Ù†Ø¬Ø§Ø­!');
                  document.getElementById('joinLeagueCode').value = '';
                  loadLeagues();
                });
            } else {
              showError('leagueTab', 'ÙƒÙˆØ¯ Ø§Ù„Ø¯ÙˆØ±ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­');
            }
          })
          .catch((error) => {
            showError('leagueTab', 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ù„Ù„Ø¯ÙˆØ±ÙŠ: ' + error.message);
          });
      }

      function generateLeagueCode() {
        const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
        let result = '';
        for (let i = 0; i < 6; i++) {
          result += chars.charAt(Math.floor(Math.random() * chars.length));
        }
        return result;
      }

      function loadLeagues() {
        // This would load user's leagues from Firebase
        // Implementation depends on Firebase data structure
      }

      // Tournament Functions
      function createTournament() {
        const tournamentName = document.getElementById('tournamentName').value;
        const tournamentType = document.getElementById('tournamentType').value;

        if (!tournamentName || !tournamentType) {
          showError('tournamentTab', 'ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
          return;
        }

        showSuccess('tournamentTab', 'ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¨Ø·ÙˆÙ„Ø© Ø¨Ù†Ø¬Ø§Ø­!');
        generateBracket();
      }

      function generateSupervisorCodes() {
        const codes = [];
        for (let i = 1; i <= 4; i++) {
          codes.push(generateLeagueCode());
          document.getElementById('supervisor' + i + 'Code').textContent = codes[i - 1];
        }

        document.getElementById('supervisorCodes').classList.remove('hidden');
        showSuccess('tournamentTab', 'ØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ† Ø¨Ù†Ø¬Ø§Ø­!');
      }

      function scheduleMatch() {
        const matchDate = document.getElementById('matchDate').value;
        const matchTime = document.getElementById('matchTime').value;
        const matchVenue = document.getElementById('matchVenue').value;

        if (!matchDate || !matchTime) {
          showError('tournamentTab', 'ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ ØªØ§Ø±ÙŠØ® ÙˆÙˆÙ‚Øª Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø©');
          return;
        }

        showSuccess('tournamentTab', 'ØªÙ… Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø© Ø¨Ù†Ø¬Ø§Ø­!');
      }

      function generateBracket() {
        // Generate tournament bracket visualization
        // This would be more complex in a real implementation
      }

      // Loan Market Functions
      function listPlayerForLoan() {
        showSuccess('loanTab', 'ØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ù„Ù„Ø¥Ø¹Ø§Ø±Ø© Ø¨Ù†Ø¬Ø§Ø­!');
      }

      function loadLoanMarket() {
        // Load available players for loan
      }

      // Tactical Canvas Functions
      function initializeCanvas() {
        canvas = document.getElementById('tacticalCanvas');
        if (!canvas) return;

        ctx = canvas.getContext('2d');
        canvas.width = canvas.offsetWidth;
        canvas.height = canvas.offsetHeight;

        drawField();

        // Mouse events
        canvas.addEventListener('mousedown', startDrawing);
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('mouseup', stopDrawing);

        // Touch events for mobile
        canvas.addEventListener('touchstart', handleTouch);
        canvas.addEventListener('touchmove', handleTouch);
        canvas.addEventListener('touchend', stopDrawing);
      }

      function drawField() {
        ctx.fillStyle = '#22c55e';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        ctx.strokeStyle = 'white';
        ctx.lineWidth = 3;

        // Field outline
        ctx.strokeRect(10, 10, canvas.width - 20, canvas.height - 20);

        // Center line
        ctx.beginPath();
        ctx.moveTo(canvas.width / 2, 10);
        ctx.lineTo(canvas.width / 2, canvas.height - 10);
        ctx.stroke();

        // Center circle
        ctx.beginPath();
        ctx.arc(canvas.width / 2, canvas.height / 2, 50, 0, 2 * Math.PI);
        ctx.stroke();
      }

      function selectTool(tool) {
        currentTool = tool;
        document.querySelectorAll('.tool-btn').forEach((btn) => btn.classList.remove('active'));
        event.target.classList.add('active');
      }

      function startDrawing(e) {
        isDrawing = true;
        const rect = canvas.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        ctx.beginPath();
        ctx.moveTo(x, y);
      }

      function draw(e) {
        if (!isDrawing) return;

        const rect = canvas.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        ctx.lineWidth = currentTool === 'eraser' ? 15 : 3;
        ctx.lineCap = 'round';
        ctx.strokeStyle = currentTool === 'eraser' ? '#22c55e' : '#1e40af';

        ctx.lineTo(x, y);
        ctx.stroke();
        ctx.beginPath();
        ctx.moveTo(x, y);
      }

      function stopDrawing() {
        isDrawing = false;
      }

      function handleTouch(e) {
        e.preventDefault();
        const touch = e.touches[0];
        const mouseEvent = new MouseEvent(
          e.type === 'touchstart' ? 'mousedown' : e.type === 'touchmove' ? 'mousemove' : 'mouseup',
          {
            clientX: touch.clientX,
            clientY: touch.clientY,
          },
        );
        canvas.dispatchEvent(mouseEvent);
      }

      function clearCanvas() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        drawField();
      }

      function saveFormation() {
        const imageData = canvas.toDataURL();
        const formationName = prompt('Ø§Ø³Ù… Ø§Ù„ØªØ´ÙƒÙŠÙ„Ø©:');

        if (formationName) {
          // Save to Firebase or local storage
          showSuccess('tacticalTab', 'ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØ´ÙƒÙŠÙ„Ø© Ø¨Ù†Ø¬Ø§Ø­!');
        }
      }
    </script>
  

<iframe ng-non-bindable="" frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" tabindex="-1" vspace="0" width="100%" aria-hidden="true" id="I0_1764760849547" name="I0_1764760849547" src="https://procoach-8029d.firebaseapp.com/__/auth/iframe?apiKey=AIzaSyD5RA1lebNnSUB9vw1iYir5PYEPRxqKqtM&amp;appName=%5BDEFAULT%5D&amp;v=10.7.0&amp;eid=p&amp;usegapi=1&amp;jsh=m%3B%2F_%2Fscs%2Fabc-static%2F_%2Fjs%2Fk%3Dgapi.lb.ar.vaNm72r-Onw.O%2Fd%3D1%2Frs%3DAHpOoo-LEpL90RBIfQRSLdW9DeSGA_DOhg%2Fm%3D__features__#id=I0_1764760849547&amp;_gfid=I0_1764760849547&amp;parent=https%3A%2F%2Fwww.genspark.ai&amp;pfname=&amp;rpctoken=39072373" style="position: absolute; top: -100px; width: 1px; height: 1px;"></iframe><script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"rayId":"9a84437eecb0a4fe","serverTiming":{"name":{"cfExtPri":true,"cfEdge":true,"cfOrigin":true,"cfL4":true,"cfSpeedBrain":true,"cfCacheStatus":true}},"version":"2025.9.1","token":"4edd5f8ec12a48cfa682ab8261b80a79"}' crossorigin="anonymous"></script>
</body></html>
